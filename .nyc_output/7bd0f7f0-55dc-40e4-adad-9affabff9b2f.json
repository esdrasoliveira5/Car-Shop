{"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/CarController.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/CarController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":11},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":71}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":23}},"6":{"start":{"line":11,"column":8},"end":{"line":15,"column":10}},"7":{"start":{"line":12,"column":29},"end":{"line":12,"column":32}},"8":{"start":{"line":13,"column":41},"end":{"line":13,"column":72}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":53}},"10":{"start":{"line":16,"column":8},"end":{"line":19,"column":10}},"11":{"start":{"line":17,"column":41},"end":{"line":17,"column":66}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":53}},"13":{"start":{"line":20,"column":8},"end":{"line":24,"column":10}},"14":{"start":{"line":21,"column":27},"end":{"line":21,"column":37}},"15":{"start":{"line":22,"column":41},"end":{"line":22,"column":71}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":53}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"18":{"start":{"line":27,"column":18},"end":{"line":27,"column":37}},"19":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":71},"end":{"line":26,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":22},"end":{"line":11,"column":23}},"loc":{"start":{"line":11,"column":42},"end":{"line":15,"column":9}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":20},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":41},"end":{"line":19,"column":9}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":23},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":43},"end":{"line":24,"column":9}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":39}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":52}},"type":"default-arg","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":52}}],"line":9},"4":{"loc":{"start":{"line":9,"column":54},"end":{"line":9,"column":69}},"type":"default-arg","locations":[{"start":{"line":9,"column":62},"end":{"line":9,"column":69}}],"line":9}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":2,"10":1,"11":2,"12":2,"13":1,"14":2,"15":0,"16":0,"17":1,"18":0,"19":1},"f":{"0":2,"1":1,"2":2,"3":2,"4":2,"5":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1],"4":[1]},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/CarController.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/CarController.ts"],"names":[],"mappings":";;;;;AACA,yCAA2B;AAC3B,wEAAgD;AAGhD,MAAM,aAAc,SAAQ,UAAe;IAGzC,YACE,OAAO,GAAG,IAAI,oBAAU,EAAE,EAC1B,KAAK,GAAG,OAAO;QAEf,KAAK,CAAC,OAAO,CAAC,CAAC;QAMjB,WAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAuB,EAAE;YAClE,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;YAErB,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAE7D,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAC;QAEF,SAAI,GAAG,KAAK,EAAE,IAAa,EAAE,GAAa,EAAuB,EAAE;YACjE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YAEvD,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAC;QAEF,YAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAuB,EAAE;YACnE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAE1B,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAE5D,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAC;QAzBA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;CAuBpC;AAED,kBAAe,aAAa,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport Controller from '.';\nimport CarService from '../services/CarService';\nimport { Car } from '../interfaces/CarInterface';\n\nclass CarController extends Controller<Car> {\n  private _route: string;\n\n  constructor(\n    service = new CarService(),\n    route = '/cars',\n  ) {\n    super(service);\n    this._route = route;\n  }\n\n  get route() { return this._route; }\n\n  create = async (req: Request, res: Response): Promise<typeof res> => {\n    const { body } = req;\n    \n    const { status, response } = await this.service.create(body);\n\n    return res.status(status).json(response);\n  };\n\n  read = async (_req: Request, res: Response): Promise<typeof res> => {\n    const { status, response } = await this.service.read();\n    \n    return res.status(status).json(response);\n  };\n\n  readOne = async (req: Request, res: Response): Promise<typeof res> => {\n    const { id } = req.params;\n    \n    const { status, response } = await this.service.readOne(id);\n\n    return res.status(status).json(response);\n  };\n}\n\nexport default CarController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"83a03723bc056e101d4119c481312d0088f8c78f"},"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/index.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":6,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/index.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/controllers/index.ts"],"names":[],"mappings":";;AAIA,MAAe,UAAU;IAGvB,YAAmB,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;IAAG,CAAC;CAO3C;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Request, Response } from 'express';\n\nimport Service from '../services';\n\nabstract class Controller<T> {\n  abstract route: string;\n\n  constructor(public service: Service<T>) {}\n\n  abstract create(req: Request, res: Response): Promise<typeof res>;\n\n  abstract read(req: Request, res: Response): Promise<typeof res>;\n\n  abstract readOne(req: Request, res: Response): Promise<typeof res>;\n}\n\nexport default Controller;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a2b6f55e5fdd3cce5b1cccce91fcbce8434560e"},"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/CarService.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/CarService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":11},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":60}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":68}},"6":{"start":{"line":9,"column":19},"end":{"line":9,"column":65}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":21}},"8":{"start":{"line":13,"column":8},"end":{"line":32,"column":10}},"9":{"start":{"line":14,"column":28},"end":{"line":14,"column":67}},"10":{"start":{"line":15,"column":28},"end":{"line":15,"column":75}},"11":{"start":{"line":16,"column":12},"end":{"line":20,"column":13}},"12":{"start":{"line":17,"column":16},"end":{"line":19,"column":18}},"13":{"start":{"line":21,"column":12},"end":{"line":25,"column":13}},"14":{"start":{"line":22,"column":16},"end":{"line":24,"column":18}},"15":{"start":{"line":26,"column":29},"end":{"line":26,"column":57}},"16":{"start":{"line":27,"column":12},"end":{"line":30,"column":13}},"17":{"start":{"line":28,"column":16},"end":{"line":29,"column":63}},"18":{"start":{"line":31,"column":12},"end":{"line":31,"column":61}},"19":{"start":{"line":33,"column":8},"end":{"line":42,"column":10}},"20":{"start":{"line":34,"column":29},"end":{"line":34,"column":52}},"21":{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},"22":{"start":{"line":36,"column":16},"end":{"line":39,"column":18}},"23":{"start":{"line":41,"column":12},"end":{"line":41,"column":56}},"24":{"start":{"line":43,"column":8},"end":{"line":58,"column":10}},"25":{"start":{"line":44,"column":12},"end":{"line":49,"column":13}},"26":{"start":{"line":45,"column":16},"end":{"line":48,"column":18}},"27":{"start":{"line":50,"column":29},"end":{"line":50,"column":57}},"28":{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},"29":{"start":{"line":52,"column":16},"end":{"line":55,"column":18}},"30":{"start":{"line":57,"column":12},"end":{"line":57,"column":56}},"31":{"start":{"line":61,"column":0},"end":{"line":61,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":50},"end":{"line":59,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":22},"end":{"line":13,"column":23}},"loc":{"start":{"line":13,"column":37},"end":{"line":32,"column":9}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":33,"column":20},"end":{"line":33,"column":21}},"loc":{"start":{"line":33,"column":32},"end":{"line":42,"column":9}},"line":33},"4":{"name":"(anonymous_4)","decl":{"start":{"line":43,"column":23},"end":{"line":43,"column":24}},"loc":{"start":{"line":43,"column":37},"end":{"line":58,"column":9}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":48}},"type":"default-arg","locations":[{"start":{"line":11,"column":24},"end":{"line":11,"column":48}}],"line":11},"4":{"loc":{"start":{"line":16,"column":12},"end":{"line":20,"column":13}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":20,"column":13}},{"start":{"line":16,"column":12},"end":{"line":20,"column":13}}],"line":16},"5":{"loc":{"start":{"line":21,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":25,"column":13}},{"start":{"line":21,"column":12},"end":{"line":25,"column":13}}],"line":21},"6":{"loc":{"start":{"line":27,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":30,"column":13}},{"start":{"line":27,"column":12},"end":{"line":30,"column":13}}],"line":27},"7":{"loc":{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":40,"column":13}},{"start":{"line":35,"column":12},"end":{"line":40,"column":13}}],"line":35},"8":{"loc":{"start":{"line":44,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":49,"column":13}},{"start":{"line":44,"column":12},"end":{"line":49,"column":13}}],"line":44},"9":{"loc":{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},"type":"if","locations":[{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},{"start":{"line":51,"column":12},"end":{"line":56,"column":13}}],"line":51}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":3,"10":3,"11":3,"12":0,"13":3,"14":1,"15":2,"16":2,"17":1,"18":1,"19":2,"20":2,"21":2,"22":1,"23":1,"24":2,"25":3,"26":1,"27":2,"28":2,"29":1,"30":1,"31":1},"f":{"0":2,"1":2,"2":3,"3":2,"4":3},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[2],"4":[0,3],"5":[1,2],"6":[1,1],"7":[1,1],"8":[1,2],"9":[1,1]},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/CarService.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/CarService.ts"],"names":[],"mappings":";;;;;AAAA,yCAAwB;AACxB,6DAA4D;AAO5D,qEAA+D;AAC/D,kEAA0C;AAE1C,MAAM,UAAW,SAAQ,UAAY;IACnC,YAAY,KAAK,GAAG,IAAI,kBAAQ,EAAE;QAChC,KAAK,CAAC,KAAK,CAAC,CAAC;QAGf,WAAM,GAAG,KAAK,EAAE,GAAQ,EAAgD,EAAE;YACxE,MAAM,OAAO,GAAG,wBAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACzC,MAAM,OAAO,GAAG,gCAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACpB,OAAO;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE;iBACpE,CAAC;aACH;YACD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACpB,OAAO;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE;iBACpE,CAAC;aACH;YACD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC9C,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;oBACnC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC;aAC9C;YACD,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,EAAE,CAAC;QACnD,CAAC,CAAC;QAEF,SAAI,GAAG,KAAK,IAAgD,EAAE;YAC5D,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACzC,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,OAAO;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;oBAC5B,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;iBACzC,CAAC;aACH;YACD,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC;QAC9C,CAAC,CAAC;QAEF,YAAO,GAAG,KAAK,EAAE,EAAU,EACmB,EAAE;YAC9C,IAAI,EAAE,CAAC,MAAM,GAAG,EAAE,EAAE;gBAClB,OAAO;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW;oBAC/B,QAAQ,EAAE,EAAE,KAAK,EAAE,wCAAwC,EAAE;iBAC9D,CAAC;aACH;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC9C,IAAI,QAAQ,KAAK,IAAI,EAAE;gBACrB,OAAO;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS;oBAC7B,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;iBACzC,CAAC;aACH;YACD,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC;QAC9C,CAAC,CAAC;IAnDF,CAAC;CAoDF;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import Service from '.';\nimport { Car, CarSchema } from '../interfaces/CarInterface';\nimport {\n  ResponseCreate,\n  ResponseError,\n  ResponseRead,\n  ResponseReadOne,\n} from '../interfaces/ResponseInterfaces';\nimport { VehicleSchema } from '../interfaces/VehicleInterface';\nimport CarModel from '../models/CarModel';\n\nclass CarService extends Service<Car> {\n  constructor(model = new CarModel()) {\n    super(model);\n  }\n\n  create = async (obj: Car): Promise<ResponseCreate<Car> | ResponseError> => {\n    const parsedC = CarSchema.safeParse(obj);\n    const parsedV = VehicleSchema.safeParse(obj);\n    if (!parsedC.success) {\n      return {\n        status: this.status.BAD_REQUEST, response: { error: parsedC.error },\n      };\n    }\n    if (!parsedV.success) {\n      return {\n        status: this.status.BAD_REQUEST, response: { error: parsedV.error },\n      };\n    }\n    const response = await this.model.create(obj);\n    if (response === undefined) {\n      return { status: this.status.INTERNAL,\n        response: { error: this.error.internal } };\n    }\n    return { status: this.status.CREATED, response };\n  };\n\n  read = async (): Promise<ResponseError | ResponseRead<Car>> => {\n    const response = await this.model.read();\n    if (response === undefined) {\n      return {\n        status: this.status.INTERNAL,\n        response: { error: this.error.internal },\n      };\n    }\n    return { status: this.status.OK, response };\n  };\n\n  readOne = async (id: string):\n  Promise<ResponseError | ResponseReadOne<Car>> => {\n    if (id.length < 24) {\n      return {\n        status: this.status.BAD_REQUEST,\n        response: { error: 'Id must have 24 hexadecimal characters' },\n      };\n    }\n    \n    const response = await this.model.readOne(id);\n    if (response === null) {\n      return { \n        status: this.status.NOT_FOUND,\n        response: { error: this.error.notFound },\n      };\n    }\n    return { status: this.status.OK, response };\n  };\n}\n\nexport default CarService;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98203a035d0e4528e4ea9e05366ed0d7ffa42034"},"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/index.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":9,"column":40}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":55}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":50}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":50}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":47}},"6":{"start":{"line":11,"column":0},"end":{"line":20,"column":38}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":48}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":58}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":64}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":66}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":68}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":62}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":58}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":60}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":27}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":34}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":34}},"18":{"start":{"line":28,"column":0},"end":{"line":28,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":1},"end":{"line":4,"column":2}},"loc":{"start":{"line":4,"column":25},"end":{"line":9,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":1},"end":{"line":11,"column":2}},"loc":{"start":{"line":11,"column":24},"end":{"line":20,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":23},"end":{"line":26,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":38}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":15}},{"start":{"line":9,"column":20},"end":{"line":9,"column":37}}],"line":9},"1":{"loc":{"start":{"line":20,"column":3},"end":{"line":20,"column":36}},"type":"binary-expr","locations":[{"start":{"line":20,"column":3},"end":{"line":20,"column":14}},{"start":{"line":20,"column":19},"end":{"line":20,"column":35}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":1},"f":{"0":1,"1":1,"2":2},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/index.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/services/index.ts"],"names":[],"mappings":";;AAUA,IAAK,YAKJ;AALD,WAAK,YAAY;IACf,kDAAkC,CAAA;IAClC,6CAA6B,CAAA;IAC7B,6CAA6B,CAAA;IAC7B,0CAA0B,CAAA;AAC5B,CAAC,EALI,YAAY,KAAZ,YAAY,QAKhB;AAED,IAAK,WASJ;AATD,WAAK,WAAW;IACd,2CAAQ,CAAA;IACR,qDAAO,CAAA;IACP,2DAAgB,CAAA;IAChB,6DAAiB,CAAA;IACjB,+DAAY,CAAA;IACZ,yDAAe,CAAA;IACf,qDAAa,CAAA;IACb,uDAAc,CAAA;AAChB,CAAC,EATI,WAAW,KAAX,WAAW,QASf;AAED,MAAe,OAAO;IAKpB,YAAmB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QAJxB,UAAK,GAAG,YAAY,CAAC;QAErB,WAAM,GAAG,WAAW,CAAC;IAEM,CAAC;CAYvC;AAED,kBAAe,OAAO,CAAC","sourcesContent":["import { Model } from '../interfaces/ModelInterface';\nimport {\n  ResponseCreate,\n  ResponseError,\n  ResponseRead,\n  ResponseReadOne,\n  // ResponseDelete,\n  // ResponseUpdate,\n} from '../interfaces/ResponseInterfaces';\n\nenum MesageErrors {\n  internal = 'Internal Server Error',\n  notFound = 'Object not found',\n  requiredId = 'Id is required',\n  badRequest = 'Bad request',\n}\n\nenum StatusCodes {\n  OK = 200,\n  CREATED,\n  NO_CONTENT = 204,\n  BAD_REQUEST = 400,\n  UNAUTHORIZED,\n  NOT_FOUND = 404,\n  INVALID = 422,\n  INTERNAL = 500,\n}\n\nabstract class Service<T> {\n  protected error = MesageErrors;\n\n  protected status = StatusCodes;\n\n  constructor(public model: Model<T>) {}\n\n  abstract create(obj: T): Promise<ResponseCreate<T> | ResponseError>;\n\n  abstract read(): Promise<ResponseRead<T> | ResponseError>;\n\n  abstract readOne(id: string): Promise<ResponseReadOne<T> | ResponseError>;\n\n  // abstract update(id: string, obj: T):\n  // Promise<ResponseUpdate<T> | ResponseError>;\n\n  // abstract delete(id:string): Promise<ResponseDelete<T> | ResponseError>;\n}\n\nexport default Service;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"64a09c2df0ff32a6adcfa613e1fe0bdf1e4c02b3"},"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/CarModel.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/CarModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":18},"end":{"line":15,"column":25}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":21}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":66},"end":{"line":19,"column":5}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":17,"column":16},"end":{"line":17,"column":64}},"type":"default-arg","locations":[{"start":{"line":17,"column":24},"end":{"line":17,"column":64}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1},"f":{"0":1,"1":3},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[3]},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/CarModel.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/CarModel.ts"],"names":[],"mappings":";;;;;AAAA,uCAAkE;AAElE,8DAAsC;AAItC,MAAM,SAAS,GAAG,IAAI,iBAAM,CAC1B;IACE,KAAK,EAAE,MAAM;IACb,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,MAAM;IACb,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;CACjB,EACD,EAAE,UAAU,EAAE,KAAK,EAAE,CACtB,CAAC;AAEF,MAAM,QAAS,SAAQ,oBAAe;IACpC,YAAY,KAAK,GAAG,IAAA,gBAAW,EAAC,MAAM,EAAE,SAAS,CAAC;QAChD,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,QAAQ,CAAC","sourcesContent":["import { Schema, model as createModel, Document } from 'mongoose';\nimport { Car } from '../interfaces/CarInterface';\nimport MongoModel from './MongoModel';\n\ninterface CarDocument extends Car, Document {}\n\nconst carSchema = new Schema<CarDocument>(\n  {\n    model: String,\n    year: Number,\n    color: String,\n    buyValue: Number,\n    seatsQty: Number,\n    doorsQty: Number,\n  },\n  { versionKey: false },\n);\n\nclass CarModel extends MongoModel<Car> {\n  constructor(model = createModel('cars', carSchema)) {\n    super(model);\n  }\n}\n\nexport default CarModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d4070384fa46872668cbb2dbb1f9adbdd1734073"},"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/MongoModel.ts":{"path":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/MongoModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":67}},"3":{"start":{"line":6,"column":37},"end":{"line":6,"column":66}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":50}},"5":{"start":{"line":7,"column":32},"end":{"line":7,"column":49}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":69}},"7":{"start":{"line":8,"column":37},"end":{"line":8,"column":68}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":86}},"9":{"start":{"line":9,"column":41},"end":{"line":9,"column":85}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":67}},"11":{"start":{"line":10,"column":36},"end":{"line":10,"column":66}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":23},"end":{"line":11,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":37},"end":{"line":6,"column":66}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":20},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":49}},"line":7},"3":{"name":"(anonymous_3)","decl":{"start":{"line":8,"column":23},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":68}},"line":8},"4":{"name":"(anonymous_4)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":41},"end":{"line":9,"column":85}},"line":9},"5":{"name":"(anonymous_5)","decl":{"start":{"line":10,"column":22},"end":{"line":10,"column":23}},"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":66}},"line":10}},"branchMap":{},"s":{"0":1,"1":3,"2":3,"3":2,"4":3,"5":3,"6":3,"7":1,"8":3,"9":0,"10":3,"11":0,"12":1},"f":{"0":3,"1":2,"2":3,"3":1,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/MongoModel.ts","sources":["/home/esdras/Trybe/Projects/sd-014-b-project-car-shop/src/models/MongoModel.ts"],"names":[],"mappings":";;AAGA,MAAe,UAAU;IACvB,YAAmB,KAAsB;QAAtB,UAAK,GAAL,KAAK,CAAiB;QAEzC,WAAM,GAAG,KAAK,EAAE,GAAM,EAAc,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;QAErE,SAAI,GAAG,KAAK,IAAkB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAEnD,YAAO,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAChD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;QAElC,WAAM,GAAG,KAAK,EAAE,EAAU,EAAE,GAAM,EAAqB,EAAE,CACvD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;QAE/C,WAAM,GAAG,KAAK,EAAE,EAAS,EAAqB,EAAE,CAC9C,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;IAbW,CAAC;CAc9C;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Model as M, Document } from 'mongoose';\nimport { Model } from '../interfaces/ModelInterface';\n\nabstract class MongoModel<T> implements Model<T> {\n  constructor(public model: M<T & Document>) {}\n\n  create = async (obj: T): Promise<T> => this.model.create({ ...obj });\n\n  read = async (): Promise<T[]> => this.model.find();\n\n  readOne = async (id: string): Promise<T | null> =>\n    this.model.findOne({ _id: id });\n  \n  update = async (id: string, obj: T): Promise<T | null> =>\n    this.model.findByIdAndUpdate(id, { ...obj });\n\n  delete = async (id:string): Promise<T | null> =>\n    this.model.remove({ _id: id });\n}\n\nexport default MongoModel;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"18cbb86b165154a7b9e29b61a5a0a867b63bbd5a"}}